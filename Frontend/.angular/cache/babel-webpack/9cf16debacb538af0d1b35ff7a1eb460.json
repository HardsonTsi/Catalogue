{
  "ast": null,
  "code": "import { ActivatedRoute, Router } from \"@angular/router\";\nimport { ContactsService } from \"../contacts.service\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../contacts.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../loader/loader.component\";\n\nfunction ContactFormComponent_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 2, 3);\n    i0.ɵɵlistener(\"ngSubmit\", function ContactFormComponent_form_0_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n\n      const _r2 = i0.ɵɵreference(1);\n\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.onSubmit(_r2);\n    });\n    i0.ɵɵelementStart(2, \"div\", 4);\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵelementStart(4, \"div\", 6);\n    i0.ɵɵelementStart(5, \"div\", 7);\n    i0.ɵɵelementStart(6, \"label\", 8);\n    i0.ɵɵtext(7, \"Nom\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 9, 10);\n    i0.ɵɵlistener(\"ngModelChange\", function ContactFormComponent_form_0_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.contact.nom = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 11);\n    i0.ɵɵtext(11, \" Le nom du contact est requis. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 7);\n    i0.ɵɵelementStart(13, \"label\", 12);\n    i0.ɵɵtext(14, \"Prenoms\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"input\", 13, 14);\n    i0.ɵɵlistener(\"ngModelChange\", function ContactFormComponent_form_0_Template_input_ngModelChange_15_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.contact.prenoms = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\", 11);\n    i0.ɵɵtext(18, \" Pr\\u00E9noms requis. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 7);\n    i0.ɵɵelementStart(20, \"label\", 12);\n    i0.ɵɵtext(21, \"Prenoms\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function ContactFormComponent_form_0_Template_input_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.contact.dateNaissance = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 7);\n    i0.ɵɵelementStart(24, \"label\", 16);\n    i0.ɵɵtext(25, \"EMail\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"input\", 17, 18);\n    i0.ɵɵlistener(\"ngModelChange\", function ContactFormComponent_form_0_Template_input_ngModelChange_26_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.contact.email = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 11);\n    i0.ɵɵtext(29, \" L'adresse email est necessaire. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"div\", 7);\n    i0.ɵɵelementStart(31, \"label\", 19);\n    i0.ɵɵtext(32, \"Telephone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"input\", 20, 21);\n    i0.ɵɵlistener(\"ngModelChange\", function ContactFormComponent_form_0_Template_input_ngModelChange_33_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.contact.telephone = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(35, \"div\", 11);\n    i0.ɵɵtext(36, \" Le num\\u00E9ro de telephone doit contenir au moins 8 chiffres. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(37, \"div\", 22);\n    i0.ɵɵelementStart(38, \"div\", 23);\n    i0.ɵɵelementStart(39, \"button\", 24);\n    i0.ɵɵtext(40, \" Valider \");\n    i0.ɵɵelementStart(41, \"p\", 25);\n    i0.ɵɵlistener(\"click\", function ContactFormComponent_form_0_Template_p_click_41_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.goDetail();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(42, \"div\", 26);\n    i0.ɵɵelementStart(43, \"a\", 27);\n    i0.ɵɵlistener(\"click\", function ContactFormComponent_form_0_Template_a_click_43_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.goBack();\n    });\n    i0.ɵɵtext(44, \"Annuler\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r2 = i0.ɵɵreference(1);\n\n    const _r3 = i0.ɵɵreference(9);\n\n    const _r4 = i0.ɵɵreference(16);\n\n    const _r5 = i0.ɵɵreference(27);\n\n    const _r6 = i0.ɵɵreference(34);\n\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.contact.nom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", _r3.valid || _r3.pristine);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.contact.prenoms);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", _r4.valid || _r4.pristine);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.contact.dateNaissance);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.contact.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", _r5.valid || _r5.pristine);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.contact.telephone);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", _r6.valid || _r6.pristine);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", !_r2.form.valid);\n  }\n}\n\nfunction ContactFormComponent_h3_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h3\", 28);\n    i0.ɵɵelement(1, \"loader\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let ContactFormComponent = /*#__PURE__*/(() => {\n  class ContactFormComponent {\n    constructor(service, router, route) {\n      this.service = service;\n      this.router = router;\n      this.route = route;\n      this.linkVerification = this.route.snapshot.url[0].path;\n    }\n\n    ngOnInit() {} // La méthode appelée lorsque le formulaire est soumis.\n\n\n    onSubmit(form) {\n      if (this.linkVerification === 'add') {\n        this.service.addContact(this.contact).subscribe(() => {\n          console.log(\"Contact ajouté\", this.contact);\n          this.goDetail();\n        }, error => {\n          console.log(error);\n        });\n      } else {\n        this.service.editContact(this.contact).subscribe(() => {\n          console.log(\"Contact modifié !\");\n          this.goDetail();\n        }, error => {\n          console.log(error);\n        });\n      }\n    }\n\n    goDetail() {\n      let link = ['contacts/', this.contact.id];\n      this.router.navigate(link);\n    }\n\n    goBack() {\n      let link = ['contacts'];\n      this.router.navigate(link);\n    }\n\n  }\n\n  ContactFormComponent.ɵfac = function ContactFormComponent_Factory(t) {\n    return new (t || ContactFormComponent)(i0.ɵɵdirectiveInject(i1.ContactsService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n  };\n\n  ContactFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ContactFormComponent,\n    selectors: [[\"contact-form\"]],\n    inputs: {\n      contact: \"contact\"\n    },\n    decls: 2,\n    vars: 2,\n    consts: [[3, \"ngSubmit\", 4, \"ngIf\"], [\"class\", \"center\", 4, \"ngIf\"], [3, \"ngSubmit\"], [\"contactForm\", \"ngForm\"], [1, \"row\"], [1, \"col\", \"s8\", \"offset-s2\"], [1, \"card-panel\"], [1, \"form-group\"], [\"for\", \"nom\"], [\"id\", \"nom\", \"name\", \"nom\", \"required\", \"\", \"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"nom\", \"ngModel\"], [1, \"card-panel\", \"red\", \"accent-1\", 3, \"hidden\"], [\"for\", \"prenoms\"], [\"required\", \"\", \"id\", \"prenoms\", \"name\", \"prenoms\", \"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"prenoms\", \"ngModel\"], [\"id\", \"date\", \"name\", \"date\", \"type\", \"date\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"id\", \"email\", \"name\", \"email\", \"required\", \"\", \"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"email\", \"ngModel\"], [\"for\", \"telephone\"], [\"id\", \"telephone\", \"name\", \"telephone\", \"pattern\", \"^[0-9]{8,15}$\", \"required\", \"\", \"type\", \"number\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"telephone\", \"ngModel\"], [1, \"divider\"], [1, \"section\", \"center\"], [\"type\", \"submit\", 1, \"waves-effect\", \"waves-light\", \"btn\", 3, \"disabled\"], [3, \"click\"], [1, \"card-action\", \"center\"], [1, \"waves-effects\", \"blue\", \"lighten-1\", \"btn\", \"waves-light\", \"btn\", 3, \"click\"], [1, \"center\"]],\n    template: function ContactFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ContactFormComponent_form_0_Template, 45, 10, \"form\", 0);\n        i0.ɵɵtemplate(1, ContactFormComponent_h3_1_Template, 2, 0, \"h3\", 1);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.contact);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.contact);\n      }\n    },\n    directives: [i3.NgIf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.RequiredValidator, i4.NgControlStatus, i4.NgModel, i4.NumberValueAccessor, i4.PatternValidator, i5.LoaderComponent],\n    styles: [\".ng-valid[required][_ngcontent-%COMP%], .ng-valid.required[_ngcontent-%COMP%]{border-left:5px solid #42A948}.ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}\"]\n  });\n  return ContactFormComponent;\n})();",
  "map": null,
  "metadata": {},
  "sourceType": "module"
}
